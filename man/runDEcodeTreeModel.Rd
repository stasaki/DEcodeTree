% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/runDEcodeTreeModel.R
\name{runDEcodeTreeModel}
\alias{runDEcodeTreeModel}
\title{Run DEcode-tree Model}
\usage{
runDEcodeTreeModel(
  outcome = "logFC",
  deg_stat,
  feature_type = c("base", "RBP", "miRNA", "TF", "cell_type"),
  out_dir = "./",
  n_splits = 5,
  metric = c("COR", "RMSE"),
  measures = list(mlr::rmse, mlr::setAggregation(mlr::rmse, mlr::train.mean)),
  cv_folds = 5,
  num_samples = 1,
  num_cpus = 1,
  param_values = list(objective = "reg:linear", eval_metric = "rmse", nrounds = 100L, eta
    = 0.1, booster = "gbtree", nthread = 4, alpha = 0.5),
  param_space = ParamHelpers::makeParamSet(ParamHelpers::makeIntegerParam("max_depth",
    lower = 3L, upper = 10L), ParamHelpers::makeNumericParam("min_child_weight", lower =
    1L, upper = 10L), ParamHelpers::makeNumericParam("subsample", lower = 0.5, upper =
    1), ParamHelpers::makeNumericParam("colsample_bytree", lower = 0.5, upper = 1),
    ParamHelpers::makeNumericParam("lambda", lower = -3, upper = 3, trafo = function(x)
    10^x), ParamHelpers::makeNumericParam("gamma", lower = -3, upper = 0, trafo =
    function(x) 10^x)),
  save_model = TRUE
)
}
\arguments{
\item{outcome}{A character string specifying the outcome variable (default: "tstat").}

\item{deg_stat}{A data frame containing differential expression statistics. Must include `gene_id` and the specified `outcome`.}

\item{feature_type}{A character vector specifying feature types to include (e.g., "base", "RBP", "miRNA", "TF", "cell_type").}

\item{out_dir}{A character string specifying the output directory (default: "./result/").}

\item{n_splits}{Number of data splits for cross-validation (default: 5).}

\item{metric}{A character vector specifying performance metrics (default: c("COR", "RMSE")).}

\item{measures}{A list of measures for performance evaluation, compatible with mlr (default: \code{list(mlr::rmse, mlr::setAggregation(mlr::rmse, mlr::train.mean))}).}

\item{cv_folds}{Number of folds for cross-validation (default: 5).}

\item{num_samples}{Number of hyperparameter tuning iterations (default: 64).}

\item{num_cpus}{Number of CPUs for parallel processing (default: 4).}

\item{param_values}{A list of default hyperparameter values for XGBoost models.}

\item{param_space}{A parameter set defining the tuning space for hyperparameter optimization.}

\item{save_model}{Logical, whether to save the trained models (default: TRUE).}
}
\value{
The function saves various outputs, including evaluation results, SHAP scores, and plots, to the specified output directory.
}
\description{
This function performs model training and evaluation for DEcode-tree models.
}
\details{
This function prepares data, performs cross-validation, trains models using XGBoost, evaluates them, and computes SHAP values.
}
\examples{
\dontrun{
deg_stat_data <- readRDS(system.file("data", "DLPFC_CogDec_DEG_stats.rds", package = "DEcodeTree"))
runDEcodeTreeModel(
  outcome = "tstat",
  deg_stat = deg_stat_data,
  feature_type = c("cell_type"),
  out_dir = "./results/",
  n_splits = 5,
  metric = c("COR", "RMSE"),
  num_samples = 10,
  num_cpus = 4
)
}

}
